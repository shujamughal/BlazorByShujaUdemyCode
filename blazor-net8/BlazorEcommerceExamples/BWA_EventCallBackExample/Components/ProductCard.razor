@using Models


<div class="card">
    <img src="@Product.ImageUrl" class="card-img-top" alt="@Product.Name" />
    <div class="card-body">
        <h5 class="card-title">@Product.Name</h5>
        <p class="card-text">@Product.Description</p>
        <p class="card-text"><strong>Price:</strong> @Product.Price.ToString("C")</p>
        <button class="btn btn-primary" @onclick="OnAddToCartClicked">Add to Cart</button>
    </div>
</div>

@code {
    [Parameter]
    public Product Product { get; set; }

    // This EventCallback will notify the parent when the "Add to Cart" button is clicked
    [Parameter]
    public EventCallback<Product> OnAddToCart { get; set; }


    private async Task OnAddToCartClicked()
    {
        // Log the product being passed to the callback (for debugging)
        Console.WriteLine($"Add to Cart clicked for: {Product.Name}");

        // Invoke the EventCallback and pass the product back to the parent component
        await OnAddToCart.InvokeAsync(Product);
    }
}
