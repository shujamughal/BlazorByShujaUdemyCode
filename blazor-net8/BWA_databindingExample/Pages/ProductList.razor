@page "/productlist"

@using BWA_databindingExample.Models
<h3>Product List</h3>
@foreach (var product in Products)
{
    <div>
        <h4>@product.Name</h4>
        <p>Price: $@product.Price</p>
        <label for="quantity">Quantity:</label>
        <input type="number" @bind="product.Quantity" id="quantity" min="1" />

        <button @onclick="() => AddToCart(product)">Add to Cart</button>
    </div>
}

@code {
    public List<Product> Products { get; set; } = new List<Product>
    {
        new Product { Id = 1, Name = "Laptop", Price = 999.99, Quantity = 1 },
        new Product { Id = 2, Name = "Headphones", Price = 199.99, Quantity = 1 },
        new Product { Id = 3, Name = "Smartphone", Price = 799.99, Quantity = 1 }
    };

    [Parameter]
    public EventCallback<Product> OnProductAdded { get; set; }

    private void AddToCart(Product product)
    {
        OnProductAdded.InvokeAsync(product);
    }
}
